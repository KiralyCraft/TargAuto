<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:cui="http://targauto.com/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <title>User Cars</title>
</h:head>
<h:body>
    <cui:navigation/>
    <h:form>
        <p:dataTable value="#{carsManagedBean.listOfAllCarsInAuctionOfAUser}" var="car">

            <p:column field="name" headerText="Name"><h:outputText value="#{car.name}"/></p:column>
            <p:column field="description" headerText="Description"><h:outputText
                    value="#{car.description}"/></p:column>
            <p:column field="price" headerText="Price"><h:outputText value="#{car.price}"/></p:column>
            <p:column field="status" headerText="Status"><h:outputText value="#{car.status}"/></p:column>
            <p:column headerText="Withdraw">
          		<h:commandButton value="Cancel" action="#{carsManagedBean.delistCar(car.id)}" rendered="#{car.status == 'inAuction'}"/>
          		<h:outputText value="Too late" rendered="#{car.status ne 'inAuction'}"/>
            </p:column>
        </p:dataTable>
    </h:form>
</h:body>
</html>
